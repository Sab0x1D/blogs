---
layout: default
title: Blog
page_num: 1        # set 2 in /page/2/index.html
permalink: /
---

<link rel="stylesheet" href="{{ '/assets/css/theme.css' | relative_url }}">
<link rel="stylesheet" href="{{ '/assets/css/site.css' | relative_url }}">
<script defer src="{{ '/assets/js/theme.js' | relative_url }}"></script>
<script defer src="{{ '/assets/js/site.js' | relative_url }}"></script>

<section class="home container">

  {%- comment -%}
    Always feature the latest 4 posts.
  {%- endcomment -%}
  {% assign posts = site.listings | sort: 'date' | reverse %}
  {% assign featured = posts | slice: 0, 4 %}
  {% assign rest = posts | slice: 4, posts.size %}

  <h2 class="section-title">Featured</h2>
  <div class="featured-row">
    {% for p in featured %}
      {% include card.html p=p variant="feature" %}
    {% endfor %}
  </div>

  {%- comment -%}
    Previous posts grid with pagination (same page_size as before).
  {%- endcomment -%}
  {% assign page_size = 9 %}
  {% assign offset = page_num | minus: 1 | times: page_size %}
  {% assign previous = rest | slice: offset, page_size %}

  <h2 class="section-title">Previous posts</h2>
  <div class="grid">
    {% for p in previous %}
      {% include card.html p=p variant="prev" %}
    {% endfor %}
  </div>

  {% include pagination.html page_num=page_num page_size=page_size total_pages=rest.size %}

  <h2 class="section-title">Popular topics</h2>
  <div class="chips">
    <span class="chip">Malware</span>
    <span class="chip">Phish</span>
    <span class="chip">Scam</span>
  </div>
</section>
