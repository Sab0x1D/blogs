<!-- _includes/header.html -->
<header class="site-header" role="banner">
  <div class="wrapper">
    <a class="site-title" rel="author" href="{{ '/' | relative_url }}">{{ site.title | escape }}</a>

    <nav class="site-nav">
      <input type="checkbox" id="nav-trigger" class="nav-trigger">
      <label for="nav-trigger" aria-label="Toggle navigation">
        <span class="menu-icon">
          <svg viewBox="0 0 18 15" width="18" height="15" aria-hidden="true">
            <path d="M18,1.5H0v-1h18V1.5z M18,8.5H0v-1h18V8.5z M18,15.5H0v-1h18V15.5z"/>
          </svg>
        </span>
      </label>

      {%- comment -%}
        Normalize current URL for reliable comparisons:
        - Apply relative_url (handles baseurl)
        - Treat "/index.html" as "/"
      {%- endcomment -%}
      {%- assign current = page.url | relative_url | replace: '/index.html', '/' -%}

      <div class="trigger">
        {%- for path in site.header_pages -%}
          {%- assign page_obj = site.pages | where: "path", path | first -%}
          {%- if page_obj -%}
            {%- assign href = page_obj.url | relative_url | replace: '/index.html', '/' -%}
            <a
              class="page-link{% if href == current %} is-active{% endif %}"
              href="{{ href }}"
              {% if href == current %}aria-current="page"{% endif %}
            >
              {{ page_obj.title | default: page_obj.name | escape }}
            </a>
          {%- endif -%}
        {%- endfor -%}
      </div>
    </nav>
  </div>
</header>
