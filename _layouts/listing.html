---
layout: default
---

<link rel="stylesheet" href="{{ '/assets/css/theme.css' | relative_url }}">
<link rel="stylesheet" href="{{ '/assets/css/site.css'  | relative_url }}">
<script defer src="{{ '/assets/js/theme.js' | relative_url }}"></script>

{%- assign hero_img = page.hero | default: page.thumb -%}

<section class="post-hero">
  <div class="container">
    <div class="hero-grid">
      <div class="hero-copy">
        <h1 class="hero-title">{{ page.pretty_title }}</h1>
        {% if page.excerpt %}<p class="hero-excerpt">{{ page.excerpt }}</p>{% endif %}
        <div class="hero-byline">
          {% if page.author_avatar %}
            <img class="avatar" src="{{ page.author_avatar | relative_url }}" alt="{{ page.author | default: site.title }}">
          {% endif %}
          <div>
            <div>{{ page.author | default: site.title }}</div>
            {% if page.date %}<div>{{ page.date | date: "%d %b %Y" }}</div>{% endif %}
          </div>
        </div>
      </div>
      {% if hero_img %}
      <figure class="hero-media"><img src="{{ hero_img | relative_url }}" alt=""></figure>
      {% endif %}
    </div>
  </div>
</section>

{%- comment -%}
  OLDER POSTS — uses site.listings (your posts live in _listings/).
  Liquid-safe: compare by doc.path == page.path.
{%- endcomment -%}
{%- assign master = site.listings | sort: "date" | reverse -%}
{%- assign older1 = nil -%}
{%- assign older2 = nil -%}
{%- assign seen_current = false -%}

{%- for doc in master -%}
  {%- if doc.path == page.path -%}
    {%- assign seen_current = true -%}
  {%- else -%}
    {%- if seen_current -%}
      {%- assign skip = false -%}
      {%- if doc.draft == true -%}{%- assign skip = true -%}{%- endif -%}
      {%- if skip != true -%}
        {%- if older1 == nil -%}
          {%- assign older1 = doc -%}
        {%- elsif older2 == nil -%}
          {%- assign older2 = doc -%}
          {%- break -%}
        {%- endif -%}
      {%- endif -%}
    {%- endif -%}
  {%- endif -%}
{%- endfor -%}

<article class="post">
  <div class="post-wrap">
    <div class="post-content">
      {{ content }}
      {%- unless older1 -%}
        <p class="post-back"><a href="{{ '/' | relative_url }}">⬅ Return to Blog Index</a></p>
      {%- endunless -%}
    </div>
  </div>
</article>

{%- if older1 or older2 -%}
<section class="post-neighbors" aria-label="Older posts">
  <h2 class="neighbors-title">Older posts</h2>
  <div class="grid">
    {%- if older1 -%}
    <a class="nav-card" href="{{ older1.url | relative_url }}">
      <img class="thumb" src="{{ (older1.thumb | default: site.default_thumb) | relative_url }}" alt="">
      <div><small>Older post</small><h3 class="title">{{ older1.title }}</h3></div>
    </a>
    {%- endif -%}
    {%- if older2 -%}
    <a class="nav-card" href="{{ older2.url | relative_url }}">
      <img class="thumb" src="{{ (older2.thumb | default: site.default_thumb) | relative_url }}" alt="">
      <div><small>Older post</small><h3 class="title">{{ older2.title }}</h3></div>
    </a>
    {%- endif -%}
  </div>
</section>
{%- endif -%}