---
layout: default
---

<link rel="stylesheet" href="{{ '/assets/css/theme.css' | relative_url }}">
<link rel="stylesheet" href="{{ '/assets/css/site.css'  | relative_url }}">

<section class="home">
  <div class="container">

    {%- comment -%} Gather and filter by tag (slug safe) {%- endcomment -%}
    {% assign coll  = site.listings | sort: 'date' | reverse %}
    {% assign tslug = page.tag | slugify %}
    {% assign tagged = coll | where_exp: 'p',
      'p.tags and (p.tags | join: " " | slugify) contains tslug' %}

    <!-- Centered title -->
    <header class="tag-hero">
      <h1 class="tag-title">{{ page.title | default: page.tag }}</h1>
    </header>

    {% if tagged and tagged.size > 0 %}
      <!-- Same grid + card markup as index "Previous posts" -->
      <section class="grid" aria-label="Posts for this topic">
        {% for p in tagged %}
          <a class="card card--lg" href="{{ p.url | relative_url }}">
            <div class="media">
              <img class="thumb" src="{{ (p.thumb | default: site.default_thumb) | relative_url }}" alt="{{ p.title }}">
              <span class="meta-top">{{ p.date | date: "%d %b %Y" }}</span>
            </div>
            <div class="body">
              <h3 class="title">{{ p.title }}</h3>
              {% if p.excerpt %}
                <p class="excerpt">{{ p.excerpt | strip_html | truncate: 150 }}</p>
              {% endif %}
              {# no chips below cards on tag pages #}
            </div>
          </a>
        {% endfor %}
      </section>
    {% else %}
      <p style="margin: 20px 0 0; color: var(--muted);">No posts for this topic yet.</p>
    {% endif %}

    <!-- Back to main -->
    <div class="tag-back-wrap">
      <a class="tag-back" href="{{ '/' | relative_url }}">‚Üê Back to main</a>
    </div>

  </div>
</section>
